import React from "react";
import { Prism as SyntaxHighlighter } from "react-syntax-highlighter";
import { dark } from "react-syntax-highlighter/dist/esm/styles/prism";
import "./challenge1.css";

const Challenge1 = () => {
  const vulnerableCode = `
#include <stdio.h>
#include <string.h>

void vulnerableFunction(char *input) {
    char buffer[8]; // Small buffer
    strcpy(buffer, input); // Vulnerability: No bounds checking
    printf("Buffer content: %s\\n", buffer);
}

int main() {
    char userInput[512];
    printf("Enter some text: ");
    gets(userInput); // Vulnerability: Unsafe input handling
    vulnerableFunction(userInput);
    return 0;
}
  `;

  return (
    <div className="challenge1-container">
      <h1>Challenge 1: Buffer Overflow</h1>
      <p>
        In this challenge, your task is to fix the buffer overflow vulnerability
        in the provided program. Follow the instructions carefully to solve it.
      </p>
      <div className="instructions">
        <h2>Instructions:</h2>
        <ul>
          <li>Analyze the provided code to locate the vulnerability.</li>
          <li>Refactor the code to prevent buffer overflows.</li>
          <li>Test the program to ensure the vulnerability is fixed.</li>
        </ul>
      </div>
      <div className="code-section">
        <h2>Vulnerable Code:</h2>
        <SyntaxHighlighter language="c" style={dark}>
          {vulnerableCode}
        </SyntaxHighlighter>
      </div>
    </div>
  );
};

export default Challenge1;
